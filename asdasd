<p>Div 1</p>
<div>
    <p id="1">0</p>
</div>
<p>Div 2</p>
<div>
    <p id="2">0</p>
</div>
<p>Div 3</p>
<div>
    <p id="3">0</p>
</div>
<input id="input" type="text"/>
<button onclick="socketAction.showConnections()">Войти</button>
<button onclick="socketAction.exit()">Выйти</button>
<pre id="output"></pre>
<script>
    let input = document.getElementById('input');

    class Socket{
        constructor() {
            this.socket = new WebSocket("ws://localhost:1323/rooms");
        }

        showConnections(){
            console.log(this.socket)
            const value = document.getElementById('input');
            this.socket.onopen = function (event){
                console.log("socket is open")
            }
            console.log(value.value)
            this.socket.onmessage = function(event) {
                console.log(event.data);
                const elem = document.getElementById(`${event.data.numberDiv}`);
                elem.innerHTML = `Количество подключенных клиентов: ${eventS.data.numberClient}`;
            };
        }

        exit(){
            this.socket.onclose = function (event){
                const value = document.getElementById('input');
                const elem = document.getElementById(`${value}`);
                elem.innerHTML = ``;
            }
        }
    }

    const socketAction = new Socket()
</script>
